```js
  npm i @stripe/stripe-js @stripe/react-stripe-js axios
```

JS code
```js
  import { loadStripe } from '@stripe/stripe-js';
  import {
    Elements,
    CardElement,
    useStripe,
    useElements,
  } from '@stripe/react-stripe-js';
  import axios from 'axios';

  const stripePromise = loadStripe('pk_test_xxxxx');

  function CheckoutForm({ orderId }) {
    const stripe = useStripe();
    const elements = useElements();

    const handlePay = async () => {
      const { data } = await axios.post(
        `/api/payments/create/${orderId}`,
        {},
        { withCredentials: true }
      );

      const { clientSecret } = data;

      const result = await stripe.confirmCardPayment(
        clientSecret,
        {
          payment_method: {
            card: elements.getElement(CardElement),
          },
        }
      );

      if (result.paymentIntent.status === 'succeeded') {
        await axios.post(
          '/api/payments/verify',
          {
            paymentIntentId: result.paymentIntent.id,
          },
          { withCredentials: true }
        );

        alert('Payment Successful');
      }
    };

    return (
      <>
        <CardElement />
        <button onClick={handlePay}>Pay</button>
      </>
    );
  }

  export default function StripeCheckout({ orderId }) {
    return (
      <Elements stripe={stripePromise}>
        <CheckoutForm orderId={orderId} />
      </Elements>
    );
  }
```